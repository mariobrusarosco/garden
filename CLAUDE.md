# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview
This is a Next.js-based digital garden that uses MDX for content and Tailwind CSS for styling. The project organizes content into topics and series, with custom React components for enhanced MDX rendering.

## Development Commands

### Core Commands
- `yarn dev` - Start development server on port 4000
- `yarn build` - Build for production (includes metadata generation)
- `yarn start` - Start production server
- `yarn lint` - Run ESLint
- `yarn create-metadata` - Generate metadata from MDX frontmatter

### Package Manager
Always use `yarn` for package management, never npm.

## Architecture & Structure

### Domain-Driven Organization
The project uses a domain-based structure under the `domains/` directory:

- `garden-components/` - Reusable UI components (Header, Navbar, Icons, etc.)
- `garden-content/` - All MDX content files organized into `topics/` and `series/`
- `garden-dmx-components/` - Special components for use within MDX files (Callout, CodeSnippet, etc.)
- `helper-and-utils/` - Shared utility functions

### Next.js App Router Structure
- `app/` - Contains all routes using Next.js 14 App Router
- Dynamic routes: `[serie]`, `[topic]`, `[note]`, `[slug]`
- Nested routing for topics and series with note pages

### Content Management
- Content is written in MDX with frontmatter metadata
- Metadata is automatically generated by `scripts/create-metadata.js` before build
- Two main content types: standalone topics and structured series

## Code Conventions

### React Components
- Use arrow functions for components and hooks
- Use named exports exclusively
- Import types using the `type` keyword: `import type { ComponentProps } from 'react'`

### File Naming
- Use kebab-case for all file names

### Import Paths
- Always use `@/` path alias for imports from the `app/` directory
- Use `@/domains/` for domain-specific modules
- Never use relative imports (`../`, `./`) when importing from other domains
- Example: `import { Header } from '@/domains/garden-components/header'`

## Content Creation
1. Create new `.mdx` files in `domains/garden-content/topics/` or `domains/garden-content/series/`
2. Add frontmatter with `title`, `summary`, etc.
3. Use custom MDX components from `garden-dmx-components/`
4. Metadata will be auto-generated on next build/dev

## Documentation Standards
- Store ADRs in `docs/decisions/`
- Store developer guides in `docs/guides/`
- Store phase-based planning in `docs/plan/`
- Store fixing logs in `docs/fixing-log/` when receiving "LOG THE FIX" input

## Tech Stack
- Next.js 14 with App Router
- TypeScript
- MDX with custom components
- Tailwind CSS
- Bright for syntax highlighting